<div class="row hidden-print" style="margin: 0px 0px 15px 0px;">
    <div class="col-xs-12">
        <h3 class="mainheader" style="font-size:20px">Competitor Summary</h3>
        <hr style="border-color:#ddd;margin:0;margin-top:10px">
    </div>
</div>
<div class="row break2" ng-if="!stretchComps">
    <div class="col-md-4 col-sm-5 col-lg-3 left-print">
        <div class="panel panel-info">
            <div class="panel-heading triangle-parent">
                <div class="triangle reporting"
                     popover-trigger="'mouseenter'"
                     popover-placement="right"
                     popover-append-to-body="true"
                     uib-popover="This is a custom property - these properties are personal properties created by and only visible to you"
                     ng-if="property.custom.owner"
                ></div>
                {{property.name}}
                <div class="pull-right" style="font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">As of {{property.strRangeEnd}}</div>
            </div>
            <div class="panel-body">
                <hr>
                <property-profile property="comps[0]" show="showProfile"></property-profile>
            </div>
        </div>

        <div class="panel panel-info">
            <div class="panel-heading">Map</div>
            <div class="panel-body">
                <hr>
                <google-map options="mapOptions"></google-map>
            </div>
        </div>
    </div>
    <div class="col-md-8 col-sm-7 col-lg-9 right-print">
        <div class="panel panel-info inlineHolder">
            <div class="panel-heading">
                <span class="d-inline">Trends</span><excluded class="perspectiveIconHolder d-inline ml-3" excluded-list="points.excludedList" property-id="property._id" applied-perspective="property.appliedPerspective" excluded-popups="excludedPopups" key="'trends-excluded'" styles="'display:block;'" classes="'mt--10'"></excluded><excluded class="perspectiveIconHolder d-inline ml-3" excluded-list="points.missingList" property-id="property._id" excluded-popups="excludedPopups" key="'trends-missing'" styles="'display: block;padding-top:2px;'" classes="'mt--10'"></excluded>
                <div style="float:left;font-weight: normal;font-size:13px; font-style: italic;margin-top:5px" ng-if="property.strRangeEnd">{{property.strRangeStart}} - {{property.strRangeEnd}}
                </div>
                <div style="float:left;margin: 0px 5px;font-weight: normal;font-size:13px; margin-top:4px;" ng-if="property.appliedPerspective && property.strRangeEnd && (points.excludedList | json) !== '{}'">|</div>
                <br clear="all" ng-if="property.appliedPerspective">
                <div style="float:left;font-weight: normal;font-size:13px; margin-top:5px;" ng-if="property.appliedPerspective && (points.excludedList | json) !== '{}'">Perspective Applied: <b>{{property.appliedPerspective.name}}</b>
                    <i class="fa fa-question-circle hidden-print"
                       style="cursor:pointer;font-size:12px;padding-left:2px;vertical-align:middle;margin-top: -3px;"
                       popover-trigger="'mouseenter'"
                       popover-placement="right"
                       popover-append-to-body="true"
                       popover-class="popover-small"
                       uib-popover-html="'Data views are calculated based on the floor plans included in the perspective.'"
                    ></i>
                </div>
                <br clear="all">
            </div>
            <div class="panel-body">
                <hr>
                <div>
                    <time-series options="nerData"></time-series>
                    <time-series options="occData" ng-if="!me.settings.showLeases"></time-series>
                    <div class="row" style="margin-left:-25px" ng-if="me.settings.showLeases">
                        <div class="col-xs-6">
                            <time-series options="occData"></time-series>
                        </div>
                        <div class="col-xs-6">
                            <time-series options="leasedData"></time-series>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-info">
            <div class="panel-heading">
                Competitors
                <br ng-if="(property.appliedPerspective && property.hasExcluded) || property.strRangeEnd" />
                <div style="float:left;font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">As of {{property.strRangeEnd}}</div>
                <div style="float:left;margin: 0px 5px;font-weight: normal;font-size:13px;" ng-if="property.appliedPerspective && property.strRangeEnd && property.hasExcluded">|</div>
                <div style="float:left;font-weight: normal;font-size:13px;" ng-if="property.appliedPerspective && property.hasExcluded">Perspective Applied: <b>{{property.appliedPerspective.name}}</b>
                    <i class="fa fa-question-circle"
                       style="cursor:pointer;font-size:12px;padding-left:2px;vertical-align:middle;margin-top: -3px;"
                       popover-trigger="'mouseenter'"
                       popover-placement="right"
                       popover-append-to-body="true"
                       popover-class="popover-small"
                       uib-popover-html="'Data views are calculated based on the floor plans included in the perspective.'"
                    ></i>
                </div>
                <br clear="all" ng-if="property.strRangeEnd || (property.appliedPerspective && property.hasExcluded)">
            </div>
            <div class="panel-body">
                <hr>
                <property-comps comps="comps" order-by="dashboardSettings.orderByComp" show="dashboardSettings.show" show-totals="dashboardSettings.totals" skipcookie="true" applied-perspective="property.appliedPerspective" excluded-popups="excludedPopups"></property-comps>
            </div>
        </div>
    </div>

</div>
<div class="row break2" ng-if="stretchComps">
    <div class="col-md-4 col-sm-5 col-lg-3 left-print">
        <div class="panel panel-info">
            <div class="panel-heading triangle-parent">
                <div class="triangle reporting"
                     popover-trigger="'mouseenter'"
                     popover-placement="right"
                     popover-append-to-body="true"
                     uib-popover="This is a custom property - these properties are personal properties created by and only visible to you"
                     ng-if="property.custom.owner"
                ></div>
                {{property.name}}
                <div class="pull-right" style="font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">As of {{property.strRangeEnd}}</div>

            </div>
            <div class="panel-body">
                <hr>
                <property-profile property="comps[0]" show="showProfile"></property-profile>

            </div>
        </div>

        <div class="panel panel-info">
            <div class="panel-heading">Map</div>
            <div class="panel-body">
                <hr>
                <google-map options="mapOptions"></google-map>
            </div>
        </div>
    </div>
    <div class="col-md-8 col-sm-7 col-lg-9 right-print">
        <div class="panel panel-info">
            <div class="panel-heading inlineHolder">
                <span class="d-inline">Trends</span><excluded class="perspectiveIconHolder d-inline ml-3" excluded-list="points.excludedList" property-id="property._id" applied-perspective="property.appliedPerspective" excluded-popups="excludedPopups" key="'trends-excluded'" styles="'display:block;'" classes="'mt--10'"></excluded><excluded class="perspectiveIconHolder d-inline ml-3" excluded-list="points.missingList" property-id="property._id" excluded-popups="excludedPopups" key="'trends-missing'" styles="'display: block;padding-top:2px;'" classes="'mt--10'"></excluded>
                <div style="float:left;font-weight: normal;font-size:13px; font-style: italic;margin-top:5px" ng-if="property.strRangeEnd">{{property.strRangeStart}} - {{property.strRangeEnd}}
                </div>
                <div style="float:left;margin: 0px 5px;font-weight: normal;font-size:13px; margin-top:4px;" ng-if="property.appliedPerspective && property.strRangeEnd && (points.excludedList | json) !== '{}'">|</div>
                <br clear="all" ng-if="property.appliedPerspective">
                <div style="float:left;font-weight: normal;font-size:13px; margin-top:5px;" ng-if="property.appliedPerspective && (points.excludedList | json) !== '{}'">Perspective Applied: <b>{{property.appliedPerspective.name}}</b>
                    <i class="fa fa-question-circle"
                       style="cursor:pointer;font-size:12px;padding-left:2px;vertical-align:middle;margin-top: -3px;"
                       popover-trigger="'mouseenter'"
                       popover-placement="right"
                       popover-append-to-body="true"
                       popover-class="popover-small"
                       uib-popover-html="'Data views are calculated based on the floor plans included in the perspective.'"
                    ></i>
                </div>
                <br clear="all">
            </div>
            <div class="panel-body">
                <hr>
                <div>
                    <time-series options="nerData"></time-series>
                    <time-series options="occData" ng-if="!me.settings.showLeases"></time-series>
                    <div class="row" style="margin-left:-25px" ng-if="me.settings.showLeases">
                        <div class="col-xs-6">
                            <time-series options="occData"></time-series>
                        </div>
                        <div class="col-xs-6">
                            <time-series options="leasedData"></time-series>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>

<div ng-if="stretchComps" ng-class="{'row': true, 'break2': comps.length > 13, 'stretched': true}">
    <div class="col-xs-12">
        <div class="panel panel-info">
            <div class="panel-heading">Competitors
                <br ng-if="(property.appliedPerspective && property.hasExcluded) || property.strRangeEnd" />
                <div style="float:left;font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">As of {{property.strRangeEnd}}</div>
                <div style="float:left;margin: 0px 5px;font-weight: normal;font-size:13px;" ng-if="property.appliedPerspective && property.strRangeEnd && property.hasExcluded">|</div>
                <div style="float:left;font-weight: normal;font-size:13px;" ng-if="property.appliedPerspective && property.hasExcluded">Perspective Applied: <b>{{property.appliedPerspective.name}}</b>
                    <i class="fa fa-question-circle"
                       style="cursor:pointer;font-size:12px;padding-left:2px;vertical-align:middle;margin-top: -3px;"
                       popover-trigger="'mouseenter'"
                       popover-placement="right"
                       popover-append-to-body="true"
                       popover-class="popover-small"
                       uib-popover-html="'Data views are calculated based on the floor plans included in the perspective.'"
                    ></i>
                </div>
                <br clear="all" ng-if="property.strRangeEnd || (property.appliedPerspective && property.hasExcluded)">
            </div>
            <div class="panel-body">
                <hr>
                <property-comps comps="comps" order-by="dashboardSettings.orderByComp" show="dashboardSettings.show" show-totals="dashboardSettings.totals" applied-perspective="property.appliedPerspective" excluded-popups="excludedPopups"></property-comps>
            </div>
        </div>
    </div>
</div>

<div class="row break2" ng-repeat="profile in ::profiles">
    <div class="row hidden-print" style="margin: 0px 0px 15px 0px;">
        <div class="col-xs-12">
            <h3 class="mainheader" style="font-size:20px">{{profile.property.name}}</h3>
            <hr style="border-color:#ddd;margin:0;margin-top:10px">
        </div>
    </div>
    <div class="col-md-4 col-sm-5 col-lg-3 left-print">
        <div class="panel panel-info">
            <div class="panel-heading triangle-parent">
                <div class="triangle reporting"
                     popover-trigger="'mouseenter'"
                     popover-placement="right"
                     popover-append-to-body="true"
                     uib-popover="This is a custom property - these properties are personal properties created by and only visible to you"
                     ng-if="property.custom.owner"
                ></div>
                {{profile.property.name}}
                <div class="pull-right" style="font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">As of {{property.strRangeEnd}}</div>
            </div>
            <div class="panel-body">
                <hr>
                <property-profile property="profile.comp" show="showProfile"></property-profile>
            </div>
        </div>
        <div class="panel panel-info" ng-show="profile.property.community_am.length > 0">
            <div class="panel-heading">Community Amenities</div>
            <div class="panel-body">
                <hr>
                <property-amenities amenities="profile.property.community_am"></property-amenities>
            </div>
        </div>
        <div class="panel panel-info" ng-show="profile.property.location_am.length > 0">
            <div class="panel-heading">Location Amenities</div>
            <div class="panel-body">
                <hr>
                <property-amenities amenities="profile.property.location_am"></property-amenities>
            </div>
        </div>
        <div class="panel panel-info" ng-show="profile.property.floorplan_am.length > 0">
            <div class="panel-heading">Unit Amenities</div>
            <div class="panel-body">
                <hr>
                <property-amenities amenities="profile.property.floorplan_am"></property-amenities>
            </div>
        </div>
        <div class="panel panel-info no-margin-print" ng-show="profile.property.hasFees" astyle="margin-bottom: 0px !important;">
            <div class="panel-heading">Fees, Deposits, Lease Terms</div>
            <div class="panel-body">
                <hr>
                <property-fees fees="profile.property.combined_fees"></property-fees>
            </div>
        </div>
    </div>
    <div class="col-md-8 col-sm-7 col-lg-9 right-print">

        <div class="panel panel-info" ng-show="profile.comp.hasContact || profile.comp.hasNotes || profile.comp.hasSurveyNotes">
            <div class="panel-heading">About Property</div>
            <div class="panel-body">
                <hr>
                <property-about property="profile.comp"></property-about>
            </div>
        </div>

        <div class="panel panel-info inlineHolder">
            <div class="panel-heading">
                <span class="d-inline">Trends</span><excluded class="perspectiveIconHolder d-inline ml-3" excluded-list="profile.points.excludedList" property-id="property._id" applied-perspective="profile.comp.appliedPerspective" excluded-popups="excludedPopups" key="'trends-excluded'" styles="'display:block;'" classes="'mt--10'"></excluded><excluded class="perspectiveIconHolder d-inline ml-3" excluded-list="profile.points.missingList" property-id="property._id" excluded-popups="excludedPopups" key="'trends-missing'" styles="'display: block;padding-top:2px;'" classes="'mt--10'"></excluded>

                <br clear="all" ng-if="(profile.comps.appliedPerspective && comp.hasExcluded) || property.strRangeEnd">
                <div style="float:left;font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">{{property.strRangeStart}} - {{property.strRangeEnd}}</div>
                <div style="float:left;margin: 0px 5px;font-weight: normal;font-size:13px;" ng-if="profile.comp.appliedPerspective && profile.comp.strRangeEnd && profile.comp.hasExcluded">|</div>
                <div style="float:left;font-weight: normal;font-size:13px;" ng-if="profile.comps.appliedPerspective && comp.hasExcluded">Perspective Applied: <b>{{profile.comp.appliedPerspective.name}}</b>
                    <i class="fa fa-question-circle hidden-print"
                       style="cursor:pointer;font-size:12px;padding-left:2px;vertical-align:middle;margin-top: -3px;"
                       popover-trigger="'mouseenter'"
                       popover-placement="right"
                       popover-append-to-body="true"
                       popover-class="popover-small"
                       uib-popover-html="'Data views are calculated based on the floor plans included in the perspective.'"
                    ></i>
                </div>
                <br clear="all" ng-if="property.strRangeEnd || (profile.comp.appliedPerspective && profile.comp.hasExcluded)">
            </div>
            <div class="panel-body">
                <hr>
                <div ng-if="!profileSettings.tableView">
                    <time-series options="profile.nerData"></time-series>
                    <hr style="margin:10px 0px 20px 0px !important;">
                </div>

                <div ng-if="profileSettings.tableView">
                    <table-view data="profile.otherTable" columns="profile.nerKeys"></table-view>
                    <div style="margin:10px 0px 20px 0px !important;"></div>
                </div>

                <hr>
                <div class="row" style="margin-left:-15px" ng-if="!profileSettings.tableView">
                    <div class="col-xs-6">
                        <time-series options="profile.occData"></time-series>
                    </div>
                    <div class="col-xs-6">
                        <time-series options="profile.otherData"></time-series>
                    </div>
                </div>
                <div ng-if="profileSettings.tableView">
                    <table-view data="profile.otherTable" columns="columns"></table-view>
                </div>
            </div>
        </div>

        <div class="panel panel-info no-margin-print" astyle="margin-bottom: 0px !important;">
            <div class="panel-heading">Floor Plans
                <br ng-if="(profile.comp.appliedPerspective && profile.comp.hasExcluded) || property.strRangeEnd"/>
                <div style="float:left;font-weight: normal;font-size:13px; font-style: italic" ng-if="property.strRangeEnd">As of {{property.strRangeEnd}}</div>
                <div style="float:left;margin: 0px 5px;font-weight: normal;font-size:13px;" ng-if="profile.comp.appliedPerspective && profile.comp.strRangeEnd && profile.comp.hasExcluded">|</div>
                <div style="float:left;font-weight: normal;font-size:13px;" ng-if="profile.comp.appliedPerspective && profile.comp.hasExcluded">Perspective Applied: <b>{{profile.comp.appliedPerspective.name}}</b>
                    <i class="fa fa-question-circle hidden-print"
                       style="cursor:pointer;font-size:12px;padding-left:2px;vertical-align:middle;margin-top: -3px;"
                       popover-trigger="'mouseenter'"
                       popover-placement="right"
                       popover-append-to-body="true"
                       popover-class="popover-small"
                       uib-popover-html="'Data views are calculated based on the floor plans included in the perspective.'"
                    ></i>
                </div>
                <br clear="all" ng-if="property.strRangeEnd || (profile.comp.appliedPerspective && profile.comp.hasExcluded)">
            </div>
            <div class="panel-body">
                <hr>
                <property-floorplans comp="profile.comp" order-by="profileSettings.orderByFp" show="profileSettings.show" skipcookie="true" applied-perspective="profile.comp.appliedPerspective" excluded-popups="excludedPopups"></property-floorplans>
            </div>
        </div>

    </div>

</div>
