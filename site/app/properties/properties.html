<h2 class="hasSidenav">My Properties</h2>
<Style>

    @media all and (min-width: 0px) and (max-width: 380px) {
        .grid-right-nav {
            margin-top:10px;
            padding-left:5px
        }
        .grid-limit {
            float:right  !important;
        }
    }

    @media all and (min-width: 0px) and (max-width: 1024px) {
        .grid-pager {
            float: left !important;
        }

        .grid-show {
            margin-right:50px;
            margin-bottom:10px
        }
    }

    @media all and (min-width: 0px) and (max-width: 767px) {

     .grid-right-nav {
         float:left;
     }

        .grid-limit {

        }
        .grid-right-nav  .has-feedback {
            margin-left:3px !important;
            width:120px !important;
        }

    }

    .grid-right-nav  .has-feedback {
        margin-left:5px;
        width: 160px;
    }
</Style>
<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="alerts.splice($index, 1);"><div ng-bind-html="alert.msg | sanitize"></div></alert>
<div ng-show="!localLoading" style="display:block;width:100px;margin:50px auto">
    <img src="/images/squares.gif" style="width:100px">
</div>
<div ng-show="localLoading">
        <div style="float:left" class="grid-limit">
            <select class="form-control input-sm" ng-model="limit" style="width:75px"
                    ng-change="resetPager()"
                    ng-options="item for item in limits">
            </select>
        </div>

        <div style="float:right" class="grid-right-nav">
            <div class="form-group has-feedback pull-right">
                <div class="btn-group action_dropdown stay_open_button">
                    <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false" tooltip="Show/Hide Columns">
                        <span class="fa fa-table"></span> <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu" style="padding-left:10px" onclick="event.stopPropagation();">
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.rownumber" ng-checked="show.rownumber"> Row Number</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.date" ng-checked="show.date"> Date</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.name" ng-checked="show.name"> Name</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.address" ng-checked="show.address"> Address</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.city" ng-checked="show.city"> City</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.state" ng-checked="show.state"> State</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.zip" ng-checked="show.zip"> Zip</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.totalUnits" ng-checked="show.totalUnits"> Total Units</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.occupancy" ng-checked="show.occupancy"> Occupancy %</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.ner" ng-checked="show.ner"> Net Eff. Rent</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.active" ng-checked="show.active"> Active</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.company" ng-checked="show.company"> Company</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.tools" ng-checked="show.tools"> Actions</label></div></li>
                    </ul>
                </div>
                <div class="btn-group action_dropdown">
                    <button type="button" class="btn btn-default dropdown-toggle btn-sm" tooltip="Download Results" ng-click="download()">
                        <span class="fa fa-download"></span>
                    </button>
                </div>
                <div class="btn-group action_dropdown">
                    <button type="button" class="btn btn-default dropdown-toggle btn-sm" tooltip="Add Property" ng-click="edit(null,false)">
                        <span class="fa fa-plus"></span>
                    </button>
                </div>
            </div>

            <div class="form-group has-feedback pull-right">
                <input type="text" class="form-control input-sm"
                       placeholder="Search Properties"
                       ng-model="searchText"
                       ng-change="resetPager()">
                <i class="fa fa-search form-control-feedback" style="color:#ccc"></i>
            </div>
        </div>


    <table class="table table-condensed table-striped" style="margin-bottom:10px">
        <thead>
        <tr>
            <th ng-show="show.rownumber">#</th>
            <th ng-show="show.date" style="cursor:pointer" ng-click="toggleSort('date')">
                <div class="pull-left">Date</div>
                <div class="pull-right" style="width:15px" ng-show="sort.date == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.date === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.date === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.name" style="cursor:pointer" ng-click="toggleSort('name')">
                <div class="pull-left">Name</div>
                <div class="pull-right" style="width:15px" ng-show="sort.name == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.name === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.name === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.address" style="cursor:pointer" ng-click="toggleSort('address')">
                <div class="pull-left">Address</div>
                <div class="pull-right" style="width:15px" ng-show="sort.address == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.address === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.address === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.city" style="cursor:pointer" ng-click="toggleSort('city')">
                <div class="pull-left">City</div>
                <div class="pull-right" style="width:15px" ng-show="sort.city == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.city === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.city === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.state" style="cursor:pointer" ng-click="toggleSort('state')">
                <div class="pull-left">State</div>
                <div class="pull-right" style="width:15px" ng-show="sort.state == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.state === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.state === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.zip" style="cursor:pointer" ng-click="toggleSort('zip')">
                <div class="pull-left">Zip</div>
                <div class="pull-right" style="width:15px" ng-show="sort.zip == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.zip === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.zip === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.totalUnits" style="cursor:pointer" ng-click="toggleSort('totalUnits')">
                <div class="pull-left">Units</div>
                <div class="pull-right" style="width:15px" ng-show="sort.totalUnits == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.totalUnits === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.totalUnits === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.occupancy" style="cursor:pointer" ng-click="toggleSort('occupancy')">
                <div class="pull-left">Occ</div>
                <div class="pull-right" style="width:15px" ng-show="sort.occupancy == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.occupancy === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.occupancy === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.ner" style="cursor:pointer" ng-click="toggleSort('ner')">
                <div class="pull-left">NER</div>
                <div class="pull-right" style="width:15px" ng-show="sort.ner == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.ner === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.ner === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.active" style="cursor:pointer;min-width:70px;width:75px" ng-click="toggleFilter('active')">
                <div class="pull-left">Active</div>
                <div class="pull-right" style="width:15px" ng-show="filters.active == null"><i class="fa fa-filter" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="filters.active === true"><i class="fa fa-toggle-on"></i></div>
                <div class="pull-right" style="width:15px" ng-show="filters.active === false"><i class="fa fa-toggle-off"></i></div>
            </th>
            <th ng-show="show.company" style="cursor:pointer" ng-click="toggleSort('company')">
                <div class="pull-left">Company</div>
                <div class="pull-right" style="width:15px" ng-show="sort.company == null"><i class="fa fa-sort" style="color:#E0E0E0"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.company === true"><i class="fa fa-sort-down"></i></div>
                <div class="pull-right" style="width:15px" ng-show="sort.company === false"><i class="fa fa-sort-up"></i></div>
            </th>
            <th ng-show="show.tools" class="center"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="row in filtered = (data | filter: search | filter : searchFilter) | skip : pageStart() - 1 | limitTo : limit | orderBy : orderBy">
            <td ng-show="show.rownumber">{{pageStart() + $index}}.</td>
            <td ng-show="show.date">{{row.date | date: 'shortDate'}}</td>
            <td ng-show="show.name">{{row.name}}</td>
            <td ng-show="show.address">{{row.address}}</td>
            <td ng-show="show.city">{{row.city}}</td>
            <td ng-show="show.state">{{row.state}}</td>
            <td ng-show="show.zip">{{row.zip}}</td>
            <td ng-show="show.totalUnits" style="text-align:center">{{row.totalUnits || '-'}}</td>
            <td ng-show="show.occupancy" style="text-align:right">{{row.occupancy || '-'}}</td>
            <td ng-show="show.ner" style="text-align:right">{{row.ner || '-'}}</td>
            <td ng-show="show.active" class="center">
                <span class="fa fa-check fa-2x success" ng-show="row.active"></span>
                <span class="fa fa-times fa-2x danger" ng-show="!row.active"></span>
            </td>
            <td ng-show="show.company">{{row.company || '-'}}</td>
            <td ng-show="show.tools" class="center">
                <div class="form-group has-feedback pull-right" style="margin-bottom:0px; margin-right:5px" ng-show="row._id != me._id">
                    <div class="btn-group action_dropdown">
                        <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false" style="padding:2px 5px 0px 5px">
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right skinny" role="menu">
                            <li><a href style="text-decoration:none" ng-click="edit(row._id, false)"><span class="fa fa-building"></span> Edit Property</a></li>
                            <li><a href ng-click="toggleActive(row)" ng-show="me.permissions.indexOf('Properties/Deactivate') > -1 && !row.active" style="text-decoration:none"><span class="fa fa-check"></span> Activate</a></li>
                            <li><a href ng-click="toggleActive(row)" ng-show="me.permissions.indexOf('Properties/Deactivate') > -1 && row.active" style="text-decoration:none"><span class="fa fa-times"></span> De-activate</a></li>
                            <li><a href="#/profile/{{row._id}}"><span class="fa fa-external-link"></span> View Profile</a></li>
                            <li><a href ng-click="dashboard(row._id)" ><span class="fa fa-list"></span> View Dashboard</a></li>
                        </ul>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>

    </table>

    <div class="pull-left grid-show" style="padding-top:5px;">
        Showing {{pageStart()}} to {{pageEnd()}} of {{filtered.length}}
        <span ng-show="filtered.length < data.length">(filtered from {{data.length}})</span>
    </div>
    <div class="pull-right grid-pager">
        <pagination ng-show="filtered.length > limit" max-size="5" total-items="filtered.length" ng-model="currentPage" class="pagination-sm" items-per-page="limit" style="margin-top:0px"></pagination>
    </div>
    <br clear="all" />
    <br ng-show="filtered.length <= limit" />
</div>
