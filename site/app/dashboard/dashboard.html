<style>
    @media all and (min-width: 0px) and (max-width: 500px) {
        .bedrooms {
            margin-right: -15px !important;
            margin-top: 10px !important;
        }
    }
</style>
<div ng-show="localLoading && myProperties.length == 0" style="text-align:center">
    <div class="alert alert-warning" role="alert"><b>This account does not currently have access to any properties. Please ask the account administrator to add properties.</b></div>

</div>
<div ng-show="!localLoading" style="display:block;width:100px;margin:50px auto">
    <img src="/images/squares.gif" style="width:100px">
</div>
<div class="row" ng-show="localLoading && myProperties.length > 0">
    <div class="col-md-4 col-sm-5 col-lg-3 left-print">
        <div class="panel panel-info">
            <div class="panel-heading">
                <span ng-if="myProperties.length == 1">{{selectedProperty.name}}</span>

                <span ng-if="myProperties.length >= 1" class="dropdown">
                    <A href class="dropdown-toggle" data-toggle="dropdown">{{selectedProperty.name}}<span class="caret" style="border-top:6px dashed !important;border-right: 6px solid transparent !important;;border-left: 6px solid transparent !important;margin-left:4px"></span></A>
                    <div class="dropdown-menu dropdown-menu-left"  style="padding: 0px;width:300px;max-height:300px;overflow-y:auto">
                        <div style="margin:10px" ng-if="myProperties.length > 7">
                        <input type="text" class="form-control input-sm"
                               placeholder="Search Properties"
                               ng-model="searchDashboard"
                               style="font-weight: normal"
                               >
                        <i class="fa fa-search form-control-feedback" style="color:#ccc;top:10px;right:10px"></i>
                        </div>
                        <ul class="multi-col-list">
                            <li ng-repeat="property in myProperties | filter : searchDashboard"><A href ng-click="setProperty(property)">{{property.name}}</A></li>
                        </ul>
                    </div>
                </span>
            </div>
            <div class="panel-body">
                <hr>
                <property-profile property="property"></property-profile>

                <div style="width:155px;margin:10px auto 0px auto" class="hidden-print">
                    <button class="btn btm-sm btn-primary" ng-click="viewProfile()">View Property Profile</button>
                </div>
            </div>
        </div>

        <div class="panel panel-info">
            <div class="panel-heading">Map</div>
            <div class="panel-body">
                <hr>
                <google-map options="mapOptions"></google-map>
            </div>
        </div>
    </div>
    <div class="col-md-8 col-sm-7 col-lg-9 right-print">
        <div class="panel panel-info">
            <div class="panel-heading">
                <span class="pull-left">Trends</span>
                <span class="dropdown pull-left hidden-print">
                    <a href class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-gear" style="color:#777;font-size:24px;padding:1px 0px 0px 7px"></i></a>
                    <div class="dropdown-menu dropdown-menu-left"  onclick="event.stopPropagation();" style="padding: 10px;width:200px">
                        <table>
                            <Tr>
                                <td style="text-align: center">
                                    <toggle-switch checked="summary"></toggle-switch>
                                </td>
                                <Td>
                                    &nbsp;Comp Averages
                                </Td>

                            </Tr>
                            <Tr>
                                <td style="text-align: center">
                                    <toggle-switch checked="$root.me.settings.hideUnlinked" click-fn="toggleUnlniked()"></toggle-switch>
                                </td>
                                <Td>
                                    &nbsp;Hide Excluded

                                    <i class="fa fa-info-circle" style="font-size:12px"
                                       popover-trigger="mouseenter"
                                       popover-placement="top"
                                       popover="This option gives you the ability to show excluded floor plans."
                                            ></i>
                                </Td>

                            </Tr>
                        </table>
                    </div>
                </span>
                <i class="fa fa-exclamation-triangle" class="pull-left"
                   style="color:orange;cursor:pointer;font-size:20px;padding:4px 0px 0px 5px"
                   ng-if="points.excluded"
                   popover-trigger="mouseenter"
                   popover-placement="right"
                   popover="This graph has some floor plans that have been manually excluded from reporting and dashboard calculations."
                        ></i>

                <daterange-picker daterange="daterange" class="pull-right" style="margin-right:-15px"></daterange-picker>
                <span class="pull-right hidden-xs" style="font-weight:initial !important; font-size: 13px !important; color: initial !important;margin:5px 5px 0px 0px">Date Range: </span>


                    <select
                        class="input-sm form-control pull-right hidden-print bedrooms"
                        style="display:inline;width:80px;font-weight:normal;font-size:13px;margin-right:10px"
                        ng-options="bedroom.text for bedroom in bedrooms"
                        ng-model="bedroom"
                        ng-change="refreshGraphs()"
                        ></select>

                <span class="pull-right hidden-xs" style="font-weight:initial !important; font-size: 13px !important; color: initial !important;margin:5px 5px 0px 0px">Show:</span>

                <br clear="all">


            </div>
            <div class="panel-body">
                <hr>
                <div ng-show="!trendsLoading" style="display:block;width:100px;margin:50px auto">
                    <img src="/images/squares.gif" style="width:100px">
                </div>
                <div ng-show="trendsLoading">
                <time-series options="nerData"></time-series>
                <hr>
                <Br>
                <time-series options="occData"></time-series>
                </div>
            </div>
        </div>

        <div class="panel panel-info">
            <div class="panel-heading">
                <span class="pull-left">Competitors</span>
                <span class="dropdown pull-left hidden-print">
                    <a href class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-gear" style="color:#777;font-size:24px;padding:1px 0px 0px 7px"></i></a>
                    <div class="dropdown-menu dropdown-menu-left"  onclick="event.stopPropagation();" style="padding: 10px;width:200px">
                        <table>
                            <Tr>
                                <td>
                                    <toggle-switch checked="$root.me.settings.hideUnlinked" click-fn="toggleUnlniked()"></toggle-switch>
                                </td>
                                <Td>
                                    &nbsp;Hide Excluded

                                    <i class="fa fa-info-circle" style="font-size:12px"
                                       popover-trigger="mouseenter"
                                       popover-placement="top"
                                       popover="This option gives you the ability to show excluded floor plans."
                                            ></i>
                                </Td>

                            </Tr>
                        </table>
                    </div>
                </span>

                <div class="btn-group action_dropdown pull-right hidden-print" style="margin-right:-15px">
                    <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" aria-expanded="false" tooltip="Show/Hide Columns">
                        <span class="fa fa-table"></span> <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu" style="padding-left:10px;width:200px" onclick="event.stopPropagation();">
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.units" ng-checked="show.units" ng-click="saveShow()"> Units</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.unitPercent" ng-checked="show.unitPercent" ng-click="saveShow()"> Unit %</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.sqft" ng-checked="show.sqft" ng-click="saveShow()"> Sqft</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.rent" ng-checked="show.rent" ng-click="saveShow()"> Rent</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.concessions" ng-checked="show.concessions" ng-click="saveShow()"> Concessions / 12 Months</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.ner" ng-checked="show.ner" ng-click="saveShow()"> Net Effective Rent</label></div></li>
                        <li><div class="checkbox"><label><input type="checkbox" ng-model="show.nersqft" ng-checked="show.nersqft" ng-click="saveShow()"> Net Effective Rent / Sqft</label></div></li>
                        <li class="hidden-print"><div style="width:60px;margin:0px auto"><input type="button" class="btn btn-primary btn-xs" value="Reset All" ng-click="reset()"></div></li>
                    </ul>
                </div>
                <Br clear="all">
            </div>
            <div class="panel-body">
                <div style="height:25px"></div>
                <property-comps comps="comps" order-by="orderByComp" show="show"></property-comps>
            </div>
        </div>
    </div>

</div>


