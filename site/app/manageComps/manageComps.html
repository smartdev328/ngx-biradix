<style>
    .faded
    {
        opacity:0.4;
    }

    .animate-repeat
     {
        transition:all linear .6s;
        opacity:0.4;
    }

    .animate-repeat2
    {
        transition:all linear .6s;
        background-color: lightgreen;
        opacity:1;
    }

</style>
<div ng-show="!localLoading" style="display:block;width:100px;margin:50px auto">
    <img src="/images/squares.gif" style="width:100px">
</div>
<div ng-show="localLoading">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="cancel()"><span aria-hidden="true">&times;</span></button>
        <h2 class="modal-title">Manage Comps: {{subject.name}}</h2>
    </div>
    <div class="modal-body">
            Please add properties you would like to use as competitors ("comps") to <b>{{subject.name}}</b><Br>
            <Br>
            <div ng-if="!comps.length">
            <div class="alert alert-info" role="alert"  style="margin-bottom:0px !important;">There are currently no comps added. Please type in the <b>address or name</b> of the comp property you would like to add in the search below.</div>
                <Br>
            </div>

            <table style="border:1px solid #ccc;width:100%">
                <tr ng-repeat="row in comps" style="border-top:1px solid #ccc;" id="tr-animate-{{$index}}" ng-class="{'faded' : row.faded}">
                    <td style="text-align:left;padding:10px 5px 10px 10px;font-weight:bold;width:16px">
                        <A href ng-click="moveUp($index)" ng-if="$index > 0"><i class="fa fa-arrow-up"></i></A>
                        <A href ng-if="$index == 0" style="cursor:not-allowed"><i class="fa fa-arrow-up" style="color:#aaa !important;"></i></A>
                    </td>
                    <td style="text-align:left;padding:10px 10px 10px 5px;font-weight:bold;width:16px">
                        <A href ng-click="moveDown($index)" ng-if="$index < comps.length - 1"><i class="fa fa-arrow-down"></i></A>
                        <A href ng-if="$index == comps.length - 1" style="cursor:not-allowed"><i class="fa fa-arrow-down" style="color:#aaa !important;"></i></A>
                    </td>
                    <td ng-bind-html="($index+1).toString() + '. ' + row.summary | sanitize" style="text-align:left"></td>
                    <td style="text-align:right;border-right:1px solid #ccc;padding:10px"><a href ng-click="remove(row)"><i class="fa fa-close"></i></a></td>
                </tr>
                <tr>
                    <td style="border-top:1px solid #ccc;padding:10px" colspan="100%">
                        <div class="form-group has-feedback has-feedback-left search" style="margin-bottom:0px !important;" ng-class="{'has-error' : noResults}">
                            <input type="text" class="form-control input-sm"
                                   placeholder="Comp address or name"
                                   uib-typeahead="props.summary for props in getLocation($viewValue)"
                                   typeahead-on-select="searchSelected($item, $model, $label)"
                                   typeahead-template-url="customTemplate.html"
                                   typeahead-no-results="noResults"
                                   ng-model="search1"
                                   style="width:100%"
                                   ng-keydown="disableSearchKeys($event)"
                            >
                            <i class="fa fa-search form-control-feedback" ng-style="{'color': noResults ? '#a94442' : '#ccc'};"></i>
                        </div>
                        <div ng-show="noResults" style="padding:10px">
                            Unable to find your comp. <button class="btn btn-primary" ng-click="create()">Create New Comp</button>
                        </div>

                    </td>
                </tr>
            </table>

            <div style="text-align: center">
                <Br>
                <button class="btn btn-success" ng-click="save()" ng-disabled="comps.length  == 0">Save</button><Br>
                <Br>
            </div>
        </div>




    </div>
</div>